Telegram.WebApp.ready();Telegram.WebApp.expand();const characterGrid=document.querySelector('.character-grid');const characterCards=document.querySelectorAll('.character-card');const scenarioSelectionDiv=document.querySelector('.scenario-selection');const scenarioCards=document.querySelectorAll('.scenario-card');const selectionStatus=document.getElementById('selection-status');let selectedCharacter=null;let selectedScenario=null;let currentPhase='character_selection';function showPhase(e){characterGrid.style.display='none';scenarioSelectionDiv.style.display='none';if(e==='character_selection'){characterGrid.style.display='grid';Telegram.WebApp.MainButton.setText("Charakter wählen").disable();selectionStatus.textContent='';}else if(e==='scenario_selection'){scenarioSelectionDiv.style.display='block';Telegram.WebApp.MainButton.setText("Szenario wählen").disable();selectionStatus.textContent='';}currentPhase=e;Telegram.WebApp.HapticFeedback.impactOccurred('light');}characterCards.forEach(e=>{e.addEventListener('click',()=>{characterCards.forEach(e=>e.classList.remove('selected'));e.classList.add('selected');selectedCharacter=e.dataset.character;let t='';switch(selectedCharacter){case'jane':t='Jane';break;case'frau_grace':t='Frau Grace';break;case'sakura':t='Sakura';break;case'nya':t='Nya';break;default:t='einen unbekannten Charakter';break;}selectionStatus.textContent=`Du hast "${t}" gewählt! Klicke den Button unten, um fortzufahren.`;selectionStatus.style.color=Telegram.WebApp.themeParams.link_color||'#b76bf9';Telegram.WebApp.MainButton.setText(`Spiele als ${t}`).enable();Telegram.WebApp.MainButton.onClick(handleMainButtonClick);});});scenarioCards.forEach(e=>{e.addEventListener('click',()=>{scenarioCards.forEach(e=>e.classList.remove('selected'));e.classList.add('selected');selectedScenario=e.dataset.scena_
